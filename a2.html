<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, maximum-scale=1.0" />

    <title>Example Student's HCDE 439 Physical Computing Page!</title>

    <link href="style.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <h1>Assignment #2: Fade</h1>
    <div class="header">
      <img src="IMG_0456.jpg" />
    </div>
    <div class="schematic">
      <br><br>
      <h3>Schematic and Calculations</h3>
       <img src="circuitandcalcs.jpg" />
      <p> I calculated a resistance of 160 ohms for the red and green LEDs
        and 85 ohms for the blue LED. I rounded the resistor up to a 220 ohm resistor
        for green and red, and 100 for blue.
      </p>
    </div>
    <div class="circuit">
      <br><br>
      <h3>Circuit</h3>
      <img src="IMG_0456.jpg" />
      <p> Here is an image of the edited circuit. I decided to use one RGB LED to 
        simplify my circuit.
      <br><br>
    </div>
    <div style="width:360px;max-width:100%;"><div style="height:0;padding-bottom:56.11%;position:relative;"><iframe width="360" height="202" style="position:absolute;top:0;left:0;width:100%;height:100%;" frameBorder="0" src="https://imgflip.com/embed/a8zxt1"></iframe></div><p><a href="https://imgflip.com/gif/a8zxt1">via Imgflip</a></p></div>
    <br><br>
    <div class="code"></div>
      <h3>Firmware</h3>
      <pre><code>
        

      // declaring button pin variable
      const int buttonPin = 7;  
      // declaring green LED pin
      const int ledPin1 = 9;  
      // declaring red LED pin  
      const int ledPin2 = 10;
      // declaring blue LED pin
      const int ledPin3 = 11;
      // declaring fade amount variable
      int fadeAmount = 5;
      // Setting brightness to zero
      int brightness = 0;
      // Creating an array containing the LED pins
      int ledPins[] = {
        9, 10, 11
      }; 
      // number of output pins                
      int pinCount = 3;

      // declaring variable to represent the button pin input
      int buttonState = 0; 

      void setup() {
        // loop through LED pin array to initialize each pin as output
        for (int thisPin = 0; thisPin < pinCount; thisPin++) {
          pinMode(ledPins[thisPin], OUTPUT);
        }
        // initialize the pin connected to the button as input
        pinMode(buttonPin, INPUT);
      }

      void loop() {
        // set the variable to the status of the button (actively pressed vs. normal)
        buttonState = digitalRead(buttonPin);

        // See if button is pressed
        if (buttonState == HIGH) {
          // Loop through each pin
          for (int thisPin = 0; thisPin < pinCount; thisPin++) {
          
            // Slowly brighten the LED in 5 ms increments by looping the brightness
            for(int i = 0; i < 256;i++){
              analogWrite(ledPins[thisPin], i);
              delay(5);
            }
          
            // Slowly brighten the LED in 5 ms increments by looping the brightness
            for(int i = 255; i > 0;i--){
              analogWrite(ledPins[thisPin], i);
              delay(5);
            }

            // Slowly brighten the LED in 5 ms increments by looping the brightness
            analogWrite(ledPins[thisPin], LOW);

            // Delay 30 ms
            delay(30);

          }
            
        
        } else {
          // Loop through LED array to turn each LED off:
          for (int thisPin = 0; thisPin < pinCount; thisPin++) {
          pinMode(ledPins[thisPin], LOW);
        }

        }

      }
      </code></pre>
    </div>
    <div class="graph">
      <br><br>
      <h3>Additional Questions</h3>
      <b>Q1: Draw a chart where the X axis is time and the Y axis is voltage. 
        Draw 3 lines representing the voltage across an LED with analogWrite(led, 64), 
        analogWrite(led, 128), and analogWrite(led, 255)..</b>
      <img src="a2q1graph.jpg" />
      <p> This chart demonstrates the voltage over time of the 25% vs. 50% vs. 100% duty cycles
      </p>
    </div>
     <div class="2">
      <br><br>
      <b>Q2: Given your schematic, circuit, and firmware, assuming the only 
        thing that draws current is your LEDs, how long would your circuit
         run if powered by a 1200 mAh battery?
      </b>
      <p> It would run for approximately 80 hours. (See work below)
        <img src="a2q2.jpg" />
      <br><br>
      <b>
        Q3: Measure and record the actual voltage across one of your LEDs when it's on. 
        How does this compare to the theoretical forward voltage for your LED color?
      </b>
      <p>
        I measured my red LED forward voltage as 2.025 volts. Slightly higher
        than the 1.8 V expected.
      </p>
      
    </div>
    
    
  </body>
</html>


